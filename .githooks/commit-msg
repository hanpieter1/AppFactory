#!/bin/bash
# Enforce issue/story ID in commit messages
# Format: (#XX) must appear in the commit message

commit_msg_file=$1
commit_msg=$(cat "$commit_msg_file")

# Check if commit message contains (#XX) pattern
if ! echo "$commit_msg" | grep -qE '\(#[0-9]+\)'; then
    echo "ERROR: Commit message must include a story/issue ID in format (#XX)"
    echo ""
    echo "Example: feat: Add new feature (#33)"
    echo ""
    echo "Your message was:"
    echo "$commit_msg"
    exit 1
fi

exit 0
